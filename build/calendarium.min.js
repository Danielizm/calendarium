/*!
 * calendarium - v0.0.2 - 05.12.2016
 * https://github.com/birdspider/calendarium
 * Copyright (c) 2016 Patrik Plihal, 
 * Licensed under the MIT license
 */


(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
"use strict";var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),calendarium=function(e,t){var a=this;this.element=e,$(e).empty();var n=$(e).data(),i=this._prepEventData(n);this.options=$.extend({},this.defaults,n,{event:i},t),this.options.event.start=new Date(this.options.event.start),this.options.event.stop=new Date(this.options.event.stop);var r=[require("./services/googlecalendar"),require("./services/yahoocalendar"),require("./services/outlookonline")].concat(this._prepGenericCallbacks(this.options.genericCallbacks));this.services=$.map(this.options.services,function(e){var t;return r.forEach(function(n){if(n=n(a),n.name===e)return t=n,null}),t}),this._setup()};calendarium.prototype={defaults:{theme:"plain",backendUrl:null,lang:"de",langFallback:"en",services:["googlecalendar","yahoocalendar","outlookonline"],genericCallbacks:[],linktext:{de:"Im Kalender speichern",en:"save to calendar"},event:{start:new Date,stop:new Date,title:"title",description:"",location:"",mode:"time"}},$element:function(){return $(this.element)},getLocalized:function(e,t){return"object"==typeof e[t]?"undefined"==typeof e[t][this.options.lang]?e[t][this.options.langFallback]:e[t][this.options.lang]:"string"==typeof e[t]?e[t]:void 0},_getEventData:function(){return this.options.event},_setup:function(){var e=this,t="calendarium-theme-"+this.options.theme,a=this.$element().addClass(t),n=$('<a href="javascript:void(0);" rel="nofollow">').addClass("calendarium-link").text(e.getLocalized(this.options,"linktext")),i=$("<ul>").addClass("calendarium-list");this.services.forEach(function(t){var a=$("<li>").addClass("calendarium-item").addClass(t.name),n=$("<span>").addClass("calendarium-text").text(e.getLocalized(t,"text")),r=$("<a>").addClass("calendarium-item-link").attr("rel","nofollow").attr("href",t.link).attr("target","_blank").attr("title",e.getLocalized(t,"title")).attr("role","button").attr("aria-label",e.getLocalized(t,"title")).append(n);a.append(r),i.append(a)}),a.append(n).append(i)},_obj2param:$.param,_prepEventData:function(e){return $.extend({},{start:e.eventStart,stop:e.eventStop,title:e.eventTitle,description:e.eventDescription,location:e.eventLocation,mode:e.eventMode},e.event&&("{"===e.event[0]&&JSON.parse(e.event)||e.event)||{})},_prepGenericCallbacks:function(e){return e&&e.length?("string"==typeof e?e.split(",").map($.trim):e).map(function(e){return require("./services/generic")(window[e])}):[]}},module.exports=calendarium,global.calendarium=calendarium,$(".calendarium").filter("[data-event],[data-event-start]").each(function(){this.hasOwnProperty("calendarium")||(this.calendarium=new calendarium(this))});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./services/generic":2,"./services/googlecalendar":3,"./services/outlookonline":4,"./services/yahoocalendar":5}],2:[function(require,module,exports){
"use strict";module.exports=function(t){return function(n){return t(n)}};

},{}],3:[function(require,module,exports){
"use strict";module.exports=function(e){var t="https://www.google.com/calendar/render?",n=function(e){return e.toISOString().replace(/\.\d+Z$/,"Z").replace(/[-:]/g,"")},o=function(e){return e.toISOString().split("T")[0].replace(/[-:]/g,"")},a=function(a){var r=[a.start,a.stop],i=n;if(a.mode&&"day"===a.mode){i=o;var l=new Date(a.stop);l.setTime(l.getTime()+864e5),r=[a.start,l]}return t+e._obj2param({action:"TEMPLATE",dates:r.map(i).join("/"),location:a.location,text:a.title,details:a.description})};return{name:"googlecalendar",title:{de:"Bei Google Kalender eintragen",en:"Add to Google Calendar"},text:{de:"Google Kalender",en:"Google Calendar"},link:a(e._getEventData())}};
},{}],4:[function(require,module,exports){
"use strict";module.exports=function(t){var e="https://outlook.live.com/owa/?",n=function(t){return t.toISOString().replace(/\.\d+Z$/,"Z").replace(/[-:]/g,"")},o=function(o){return e+t._obj2param({startdt:n(o.start),enddt:n(o.stop),location:o.location,subject:o.title,body:o.description,allday:o.mode&&"day"===o.mode})};return{name:"outlookonline",title:{de:"Bei Outlook Online Kalender eintragen",en:"Add to Outlook Online Calendar"},text:{de:"Outlook Online Kalender",en:"Outlook Online Calendar"},link:o(t._getEventData())}};

},{}],5:[function(require,module,exports){
"use strict";module.exports=function(e){var t="https://calendar.yahoo.com/?",a=function(e){return e.toISOString().replace(/\.\d+Z$/,"Z").replace(/[-:]/g,"")},o=function(o){return t+e._obj2param({st:a(o.start),et:a(o.stop),in_loc:o.location,title:o.title,desc:o.description,view:"d",v:60,type:20,allday:o.mode&&"day"===o.mode})};return{name:"yahoocalendar",title:{de:"Bei Yahoo Kalender eintragen",en:"Add to Yahoo Calendar"},text:{de:"Yahoo Kalender",en:"Yahoo Calendar"},link:o(e._getEventData())}};

},{}]},{},[1]);
